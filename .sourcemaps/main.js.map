{"version":3,"sources":["../../src/service/options.service.ts","../../src/service/payload.service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/options/options.ts","../../src/service/geolocation.service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/service/restaurant.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\n\r\nimport { Payload } from '../entity/payload';\r\n\r\n@Injectable()\r\nexport class OptionsService {\r\n  private payload: Payload = {\r\n    price: '1,2',\r\n    radius: 5 * 1609.344\r\n  }\r\n  private options$ = new BehaviorSubject<Payload>(this.payload);\r\n  get options(): Payload {\r\n    return this.options$.getValue();\r\n  }\r\n\r\n  set options(payload: Payload) {\r\n    this.options$.next(payload);\r\n  }\r\n\r\n  getOptions(): BehaviorSubject<Payload>{\r\n    return this.options$;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/options.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Payload } from '../entity/payload';\r\nimport {ReplaySubject} from 'rxjs/replaySubject'\r\n\r\n@Injectable()\r\nexport class PayloadService {\r\n  private payload$ = new ReplaySubject<Payload>(1);\r\n  get payload(): Observable<Payload>{\r\n    return this.payload$.asObservable();\r\n  }\r\n\r\n  set payload(payload: Observable<Payload>) {\r\n    payload\r\n      .subscribe(payload =>\r\n        this.payload$.next(this.cleanPayload(payload)));\r\n  }\r\n\r\n  private cleanPayload(payload: Payload): Payload {\r\n    Object.keys(payload).forEach(key => {\r\n      if (!payload[key]) delete payload[key];\r\n    });\r\n    return payload;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/payload.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 112;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 112\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 155;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 155\n// module chunks = 0","import { Component, OnInit } from '@angular/core';\nimport { NavController, PopoverController } from 'ionic-angular';\nimport { OptionsPage } from '../options/options';\nimport { OptionsService } from '../../service/options.service';\nimport { RestaurantService } from '../../service/restaurant.service';\nimport { GeolocationService } from '../../service/geolocation.service';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport { PayloadService } from \"../../service/payload.service\";\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n  providers: [RestaurantService]\n})\nexport class HomePage implements OnInit {\n  private restaurant: any;\n  private isLoading: boolean = true;\n  private isErr: boolean = false;\n  private message: string = 'Nothing found. May want to change the filters!';\n  private coordinates: Coordinates;\n  private directions: string;\n  private mapsUrl: string = 'https://maps.apple.com/maps';\n  constructor(\n    public navCtrl: NavController,\n    private popoverCtrl: PopoverController,\n    private restaurantService: RestaurantService,\n    private optionsService: OptionsService,\n    private geolocationService: GeolocationService,\n    private payloadService: PayloadService\n  ) { }\n\n  ngOnInit(): void {\n    // this.restaurantService.restaurant\n    //   .subscribe(restaurant => {\n    //     this.isLoading = false;\n    //     this.isErr = false;\n    //     if (restaurant.ok === false) {\n    //       this.isErr = true;\n    //     } else {\n    //       let destination = `&daddr=${restaurant.location.destination}`;\n    //       let origin = `?saddr=${restaurant.location.origin}`;\n    //       this.restaurant = restaurant;\n    //       this.directions = `${this.mapsUrl}${origin}${destination}`;\n    //     }\n    //   })\n    this.geolocationService.getCurrentPosition()\n      .subscribe(coords => {\n        this.coordinates = coords;\n        this.optionsService.getOptions()\n          .subscribe(() => {\n            this.getRestaurant();\n          });\n      });\n    \n    this.payloadService.payload.subscribe(console.log)\n  }\n\n  goToOptions(): void {\n    this.navCtrl.push(OptionsPage);\n  }\n  goToLink(link: string): void {\n    location.href = link;\n  }\n\n  getRestaurant(): void {\n    let coordinates = this.coordinates;\n    if (coordinates.latitude !== 0 &&\n      coordinates.longitude !== 0) {\n      let geolocation = {\n        latitude: coordinates.latitude,\n        longitude: coordinates.longitude\n      };\n      let query = Object.assign(\n        {},\n        geolocation,\n        this.optionsService.options\n      );\n      this.isLoading = true;\n      this.restaurantService.getRestaurant(query)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { OptionsService } from '../../service/options.service';\r\nimport { Payload } from '../../entity/payload';\r\nimport { Options } from '../../entity/options';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { PayloadService } from \"../../service/payload.service\";\r\n\r\n@Component({\r\n  selector: 'page-options',\r\n  templateUrl: 'options.html',\r\n})\r\nexport class OptionsPage implements OnInit {\r\n  optionsForm: FormGroup;\r\n  payload$ = new Subject<Payload>();\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private optionsService: OptionsService,\r\n    private payloadService: PayloadService,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.optionsForm = this.createOptionsForm();\r\n    this.payloadService.payload = this.optionsForm\r\n      .valueChanges\r\n      .map(options => this.createPayload(options));  \r\n  }\r\n\r\n  private createPayload(options: any): Payload{\r\n    return {\r\n      radius: options.radius * 1609.344,\r\n      price: this.arrayToCSV(options.prices),\r\n      categories: this.arrayToCSV(options.categories)\r\n    }\r\n  }\r\n\r\n  private arrayToCSV(array: any[]): string {\r\n    return array.join(',');\r\n  }\r\n\r\n  private createOptionsForm(): FormGroup {\r\n    return this.formBuilder.group({\r\n      prices: [['1', '2']],\r\n      radius: 5,\r\n      categories: [[]]\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/options/options.ts","import { Injectable } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { BehaviorSubject } from 'rxjs/behaviorSubject';\r\n\r\n@Injectable()\r\nexport class GeolocationService {\r\n  private geolocation$: BehaviorSubject<Coordinates> = new BehaviorSubject({\r\n    latitude: 0,\r\n    longitude: 0,\r\n    accuracy: 0,\r\n    altitude: 0,\r\n    altitudeAccuracy: 0,\r\n    heading: 0,\r\n    speed: 0,\r\n    init: true\r\n  });\r\n  constructor(\r\n    private platform: Platform,\r\n    private geolocationService: Geolocation\r\n  ) { };\r\n  getCurrentPosition(): BehaviorSubject<Coordinates> {\r\n    if (this.platform.is('android')) {\r\n      this.geolocationService.getCurrentPosition()\r\n        .then(pos => this.geolocation$.next(pos.coords));\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition(\r\n        coords => this.geolocation$.next(coords.coords),\r\n        e => this.geolocation$.error('no geolocation')\r\n      );\r\n    }\r\n\r\n    return this.geolocation$;\r\n  }\r\n  \r\n  get geolocation() {\r\n    return this.geolocation$.getValue();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/geolocation.service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport {HttpModule } from '@angular/http';\n\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { OptionsPage } from '../pages/options/options';\n\nimport { OptionsService } from '../service/options.service';\nimport { GeolocationService } from '../service/geolocation.service';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { PayloadService } from '../service/payload.service';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    OptionsPage\n  ],\n  imports: [\n    IonicModule.forRoot(MyApp),\n    BrowserModule,\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    OptionsPage\n  ],\n  providers: [\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    OptionsService,\n    GeolocationService,\n    StatusBar,\n    SplashScreen,\n    Geolocation,\n    PayloadService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp implements OnInit{\n  rootPage: any = HomePage;\n\n  constructor(\n    private platform: Platform,\n    private statusBar: StatusBar,\n    private splashScreen: SplashScreen\n  ) {}\n\n  ngOnInit(): void {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\n\r\nimport { Subject } from 'rxjs/subject';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/observable/of';\r\nimport { Observable } from \"rxjs/Observable\";\r\n@Injectable()\r\nexport class RestaurantService{\r\n  private url: string = 'http://brownies-server.azurewebsites.net/api/restaurant';\r\n  private restaurant$: Subject<any> = new Subject();\r\n  constructor(\r\n    private http: Http\r\n  ){}\r\n\r\n  getRestaurant(query: any){\r\n    this.http\r\n      .post(this.url + '/random', query)\r\n      .map((r: Response) => r.json())\r\n      .switchMap(data => Observable.of(data))\r\n      .subscribe(\r\n      restaurant => this.restaurant$.next(restaurant),\r\n      err => this.restaurant$.next(err)\r\n    );\r\n  }\r\n\r\n  get restaurant(): Subject<any>{\r\n    return this.restaurant$;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/restaurant.service.ts"],"sourceRoot":""}